2025-11-20 14:07:51 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:07:51 [info]: Using Redis for rate limiting
2025-11-20 14:08:00 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:08:09 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:08:26 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:09:22 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:09:27 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:10:55 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-20 14:10:55 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-20 14:10:55 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:10:55 [info]: Upload directory ready: ./uploads
2025-11-20 14:10:55 [info]: ‚úÖ MongoDB connected successfully
2025-11-20 14:10:55 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:55 [warn]: Redis reconnecting...
2025-11-20 14:10:55 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:55 [warn]: Redis reconnecting...
2025-11-20 14:10:55 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:56 [warn]: Redis reconnecting...
2025-11-20 14:10:56 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:56 [warn]: Redis reconnecting...
2025-11-20 14:10:56 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:56 [warn]: Redis reconnecting...
2025-11-20 14:10:56 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:57 [warn]: Redis reconnecting...
2025-11-20 14:10:57 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:57 [warn]: Redis reconnecting...
2025-11-20 14:10:57 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:58 [warn]: Redis reconnecting...
2025-11-20 14:10:58 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:10:59 [warn]: Redis reconnecting...
2025-11-20 14:10:59 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:11:00 [warn]: Redis reconnecting...
2025-11-20 14:11:00 [error]: AggregateError [ECONNREFUSED]: 
    at internalConnectMultiple (node:net:1134:18)
    at afterConnectMultiple (node:net:1715:7)
2025-11-20 14:11:01 [warn]: Redis reconnecting...
2025-11-20 14:11:01 [error]: Redis reconnection failed after 10 attempts
2025-11-20 14:17:58 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-20 14:17:58 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-20 14:17:59 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:17:59 [info]: Upload directory ready: ./uploads
2025-11-20 14:17:59 [info]: ‚úÖ MongoDB connected successfully
2025-11-20 14:17:59 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-20 14:17:59 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-20 14:17:59 [info]: üöÄ Backend Gateway running on port 3000
2025-11-20 14:17:59 [info]: üìù Environment: development
2025-11-20 14:17:59 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-20 14:17:59 [info]: Deleted file: uploads\.gitkeep
2025-11-20 14:17:59 [info]: Cleaned up 1 old files from ./uploads
2025-11-20 14:25:11 [info]: Incoming request
2025-11-20 14:25:11 [error]: AggregateError: Error
    at AxiosError.from (file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/axios/lib/core/AxiosError.js:96:14)
    at RedirectableRequest.handleRequestError (file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/axios/lib/adapters/http.js:817:25)
    at RedirectableRequest.emit (node:events:530:35)
    at eventHandlers.<computed> (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\follow-redirects\index.js:49:24)
    at ClientRequest.emit (node:events:518:28)
    at emitErrorEvent (node:_http_client:104:11)
    at Socket.socketErrorListener (node:_http_client:518:5)
    at Socket.emit (node:events:518:28)
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at Axios.request (file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/axios/lib/core/Axios.js:45:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async checkAIEngineHealth (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:251:22)
    at async <anonymous> (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\routes\health.ts:20:24)
2025-11-20 14:25:11 [info]: Request completed
2025-11-20 14:25:25 [info]: Incoming request
2025-11-20 14:25:25 [error]: AggregateError: Error
    at AxiosError.from (file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/axios/lib/core/AxiosError.js:96:14)
    at RedirectableRequest.handleRequestError (file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/axios/lib/adapters/http.js:817:25)
    at RedirectableRequest.emit (node:events:530:35)
    at eventHandlers.<computed> (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\follow-redirects\index.js:49:24)
    at ClientRequest.emit (node:events:518:28)
    at emitErrorEvent (node:_http_client:104:11)
    at Socket.socketErrorListener (node:_http_client:518:5)
    at Socket.emit (node:events:518:28)
    at emitErrorNT (node:internal/streams/destroy:170:8)
    at emitErrorCloseNT (node:internal/streams/destroy:129:3)
    at Axios.request (file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/axios/lib/core/Axios.js:45:41)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async checkAIEngineHealth (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:251:22)
    at async <anonymous> (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\routes\health.ts:20:24)
2025-11-20 14:25:25 [info]: Request completed
2025-11-20 14:26:57 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-20 14:26:57 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-20 14:26:59 [info]: AI Engine client configured: http://localhost:8000
2025-11-20 14:26:59 [info]: Upload directory ready: ./uploads
2025-11-20 14:26:59 [info]: ‚úÖ MongoDB connected successfully
2025-11-20 14:26:59 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-20 14:26:59 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-20 14:26:59 [info]: üöÄ Backend Gateway running on port 3000
2025-11-20 14:26:59 [info]: üìù Environment: development
2025-11-20 14:26:59 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-20 14:41:43 [info]: Incoming request
2025-11-20 14:41:43 [info]: Image upload received: screenshot.png (75129 bytes)
2025-11-20 14:41:43 [info]: Image validated successfully: image/png
2025-11-20 14:41:43 [error]: ValidationError: Analysis validation failed: thumbnail: Path `thumbnail` is required.
    at Document.invalidate (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3362:32)
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3123:17
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\schemaType.js:1446:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-11-20 14:41:43 [info]: Deleted file: uploads\9442cc0f-28a3-41f9-9f5c-c79c733c8abb-screenshot.png
2025-11-20 14:41:43 [error]: Error: Failed to create analysis record
    at createAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisService.ts:57:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async uploadImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\controllers\uploadController.ts:32:22)
2025-11-20 14:41:43 [info]: Request completed
2025-11-20 14:41:59 [info]: Incoming request
2025-11-20 14:41:59 [error]: Error: Invalid URL protocol. Only HTTP and HTTPS are supported
    at validateUrl (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\utils\urlValidator.ts:12:13)
    at analyzeUrl (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\controllers\analyzeController.ts:39:23)
    at Layer.handle [as handle_request] (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\express\lib\router\route.js:149:13)
    at validateRequestBody (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\middleware\validation.ts:43:5)
    at Layer.handle [as handle_request] (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\express\lib\router\layer.js:95:5)
    at next (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\express\lib\router\route.js:149:13)
    at file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/express-rate-limit/dist/index.mjs:779:7
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async file:///C:/Users/ASUS/Downloads/truesight-ai-app/node_modules/express-rate-limit/dist/index.mjs:663:5
2025-11-20 14:41:59 [info]: Request completed
2025-11-20 14:42:39 [info]: Incoming request
2025-11-20 14:42:39 [info]: URL analysis request: https://leonardo.ai/wp-content/uploads/2024/03/ai-photograph-close-up-womans-face-768x430.webp (type: auto)
2025-11-20 14:42:39 [info]: Downloading content from URL: https://leonardo.ai/wp-content/uploads/2024/03/ai-photograph-close-up-womans-face-768x430.webp
2025-11-20 14:42:39 [info]: Downloaded content saved to: uploads\a54baf74-49da-4a2e-abe2-fa6095db1ef5.jpg (28154 bytes)
2025-11-20 14:42:39 [info]: URL content validated successfully: image/webp
2025-11-20 14:42:39 [error]: ValidationError: Analysis validation failed: thumbnail: Path `thumbnail` is required.
    at Document.invalidate (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3362:32)
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3123:17
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\schemaType.js:1446:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-11-20 14:42:39 [info]: Deleted file: uploads\a54baf74-49da-4a2e-abe2-fa6095db1ef5.jpg
2025-11-20 14:42:39 [error]: Error: Failed to create analysis record
    at createAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisService.ts:57:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async analyzeUrl (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\controllers\analyzeController.ts:102:22)
2025-11-20 14:42:39 [info]: Request completed
2025-11-20 14:43:20 [info]: Incoming request
2025-11-20 14:43:20 [info]: Image upload received: Generated Image September 05, 2025 - 8_21PM.jpeg (276786 bytes)
2025-11-20 14:43:20 [info]: Image validated successfully: image/jpeg
2025-11-20 14:43:20 [error]: ValidationError: Analysis validation failed: thumbnail: Path `thumbnail` is required.
    at Document.invalidate (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3362:32)
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3123:17
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\schemaType.js:1446:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-11-20 14:43:20 [info]: Deleted file: uploads\dc1c21bb-1f0c-4101-9544-3849c8031aa0-Generated_Image_September_05__2025_-_8_21PM.jpeg
2025-11-20 14:43:20 [error]: Error: Failed to create analysis record
    at createAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisService.ts:57:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async uploadImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\controllers\uploadController.ts:32:22)
2025-11-20 14:43:20 [info]: Request completed
2025-11-21 11:03:26 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-21 11:03:26 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-21 11:03:27 [info]: AI Engine client configured: http://localhost:8000
2025-11-21 11:03:27 [info]: Upload directory ready: ./uploads
2025-11-21 11:03:27 [info]: ‚úÖ MongoDB connected successfully
2025-11-21 11:03:27 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-21 11:03:27 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-21 11:03:27 [info]: üöÄ Backend Gateway running on port 3000
2025-11-21 11:03:27 [info]: üìù Environment: development
2025-11-21 11:03:27 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-21 11:04:37 [info]: Incoming request
2025-11-21 11:04:37 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:04:37 [info]: Request completed
2025-11-21 11:12:18 [info]: Incoming request
2025-11-21 11:12:18 [info]: Request completed
2025-11-21 11:12:24 [info]: Incoming request
2025-11-21 11:12:24 [info]: Request completed
2025-11-21 11:12:26 [info]: Incoming request
2025-11-21 11:12:26 [info]: Request completed
2025-11-21 11:16:09 [info]: Incoming request
2025-11-21 11:16:09 [info]: Image upload received: image.png (1237094 bytes)
2025-11-21 11:16:09 [info]: Image validated successfully: image/png
2025-11-21 11:16:09 [error]: ValidationError: Analysis validation failed: thumbnail: Path `thumbnail` is required.
    at Document.invalidate (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3362:32)
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3123:17
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\schemaType.js:1446:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-11-21 11:16:09 [info]: Deleted file: uploads\c59a0cdb-0a94-4c04-879e-08e04ab4ccde-image.png
2025-11-21 11:16:09 [error]: Error: Failed to create analysis record
    at createAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisService.ts:57:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async uploadImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\controllers\uploadController.ts:32:22)
2025-11-21 11:16:09 [info]: Request completed
2025-11-21 11:16:17 [info]: Incoming request
2025-11-21 11:16:17 [info]: Image upload received: image.png (1237094 bytes)
2025-11-21 11:16:17 [info]: Image validated successfully: image/png
2025-11-21 11:16:17 [error]: ValidationError: Analysis validation failed: thumbnail: Path `thumbnail` is required.
    at Document.invalidate (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3362:32)
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3123:17
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\schemaType.js:1446:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-11-21 11:16:17 [info]: Deleted file: uploads\e3371f0e-0d11-4e11-b69d-12d1018522dd-image.png
2025-11-21 11:16:17 [error]: Error: Failed to create analysis record
    at createAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisService.ts:57:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async uploadImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\controllers\uploadController.ts:32:22)
2025-11-21 11:16:17 [info]: Request completed
2025-11-21 11:17:29 [info]: Incoming request
2025-11-21 11:17:29 [info]: Image upload received: Generated Image September 05, 2025 - 2_04PM.jpeg (127378 bytes)
2025-11-21 11:17:29 [info]: Image validated successfully: image/jpeg
2025-11-21 11:17:29 [error]: ValidationError: Analysis validation failed: thumbnail: Path `thumbnail` is required.
    at Document.invalidate (C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3362:32)
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\document.js:3123:17
    at C:\Users\ASUS\Downloads\truesight-ai-app\node_modules\mongoose\lib\schemaType.js:1446:9
    at process.processTicksAndRejections (node:internal/process/task_queues:85:11)
2025-11-21 11:17:29 [info]: Deleted file: uploads\df8a35e4-f77a-4157-8559-1ac45ae52427-Generated_Image_September_05__2025_-_2_04PM.jpeg
2025-11-21 11:17:29 [error]: Error: Failed to create analysis record
    at createAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisService.ts:57:11)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async uploadImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\controllers\uploadController.ts:32:22)
2025-11-21 11:17:29 [info]: Request completed
2025-11-21 11:19:11 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-21 11:19:11 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-21 11:19:14 [info]: AI Engine client configured: http://localhost:8000
2025-11-21 11:19:15 [info]: Upload directory ready: ./uploads
2025-11-21 11:19:15 [info]: ‚úÖ MongoDB connected successfully
2025-11-21 11:19:15 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-21 11:19:15 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-21 11:19:15 [info]: üöÄ Backend Gateway running on port 3000
2025-11-21 11:19:15 [info]: üìù Environment: development
2025-11-21 11:19:15 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-21 11:19:29 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-21 11:19:29 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-21 11:19:30 [info]: AI Engine client configured: http://localhost:8000
2025-11-21 11:19:30 [info]: Upload directory ready: ./uploads
2025-11-21 11:19:30 [info]: ‚úÖ MongoDB connected successfully
2025-11-21 11:19:30 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-21 11:19:30 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-21 11:19:30 [info]: üöÄ Backend Gateway running on port 3000
2025-11-21 11:19:30 [info]: üìù Environment: development
2025-11-21 11:19:30 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-21 11:20:32 [info]: Incoming request
2025-11-21 11:20:32 [info]: Image upload received: Generated Image September 05, 2025 - 2_04PM.jpeg (127378 bytes)
2025-11-21 11:20:32 [info]: Image validated successfully: image/jpeg
2025-11-21 11:20:32 [info]: Created analysis record: 691ffda8a6aa4cecea5e79aa
2025-11-21 11:20:32 [info]: Starting image analysis: 691ffda8a6aa4cecea5e79aa
2025-11-21 11:20:32 [info]: Sending image to AI Engine: uploads\a4ee50ba-5820-4b60-82eb-019b807f4543-Generated_Image_September_05__2025_-_2_04PM.jpeg
2025-11-21 11:20:32 [info]: Request completed
2025-11-21 11:20:32 [error]: Error: AI analysis failed
    at mapAIEngineError (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:136:14)
    at analyzeImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:187:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async processImageAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisProcessor.ts:14:20)
2025-11-21 11:20:32 [info]: Updated analysis record: 691ffda8a6aa4cecea5e79aa
2025-11-21 11:20:32 [info]: Deleted file: uploads\a4ee50ba-5820-4b60-82eb-019b807f4543-Generated_Image_September_05__2025_-_2_04PM.jpeg
2025-11-21 11:21:49 [info]: Incoming request
2025-11-21 11:21:49 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:21:49 [info]: Request completed
2025-11-21 11:21:51 [info]: Incoming request
2025-11-21 11:21:51 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:21:51 [info]: Request completed
2025-11-21 11:21:52 [info]: Incoming request
2025-11-21 11:21:52 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:21:52 [info]: Request completed
2025-11-21 11:21:52 [info]: Incoming request
2025-11-21 11:21:52 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:21:52 [info]: Request completed
2025-11-21 11:22:16 [info]: Incoming request
2025-11-21 11:22:16 [info]: Retrieving analysis: 691ffda8a6aa4cecea5e79aa
2025-11-21 11:22:16 [info]: Request completed
2025-11-21 11:22:16 [info]: Incoming request
2025-11-21 11:22:16 [info]: Retrieving analysis: 691ffda8a6aa4cecea5e79aa
2025-11-21 11:22:16 [info]: Request completed
2025-11-21 11:22:18 [info]: Incoming request
2025-11-21 11:22:18 [info]: Retrieving analysis: 691ffda8a6aa4cecea5e79aa
2025-11-21 11:22:18 [info]: Request completed
2025-11-21 11:24:15 [info]: Incoming request
2025-11-21 11:24:15 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:24:15 [info]: Request completed
2025-11-21 11:24:29 [info]: Incoming request
2025-11-21 11:24:29 [info]: Image upload received: Generated Image September 05, 2025 - 2_04PM.jpeg (127378 bytes)
2025-11-21 11:24:29 [info]: Image validated successfully: image/jpeg
2025-11-21 11:24:29 [info]: Created analysis record: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:24:29 [info]: Starting image analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:24:29 [info]: Sending image to AI Engine: uploads\4844b25d-980f-424b-ba87-5d36354d845c-Generated_Image_September_05__2025_-_2_04PM.jpeg
2025-11-21 11:24:29 [info]: Request completed
2025-11-21 11:24:29 [error]: Error: AI analysis failed
    at mapAIEngineError (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:136:14)
    at analyzeImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:187:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async processImageAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisProcessor.ts:14:20)
2025-11-21 11:24:29 [info]: Updated analysis record: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:24:29 [info]: Deleted file: uploads\4844b25d-980f-424b-ba87-5d36354d845c-Generated_Image_September_05__2025_-_2_04PM.jpeg
2025-11-21 11:24:29 [info]: Incoming request
2025-11-21 11:24:29 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:24:29 [info]: Request completed
2025-11-21 11:24:29 [info]: Incoming request
2025-11-21 11:24:29 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:24:29 [info]: Request completed
2025-11-21 11:24:31 [info]: Incoming request
2025-11-21 11:24:31 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:24:31 [info]: Request completed
2025-11-21 11:26:58 [info]: Incoming request
2025-11-21 11:26:58 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:26:58 [info]: Request completed
2025-11-21 11:27:46 [info]: Incoming request
2025-11-21 11:27:46 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:27:46 [info]: Request completed
2025-11-21 11:27:48 [info]: Incoming request
2025-11-21 11:27:48 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:27:48 [info]: Request completed
2025-11-21 11:27:48 [info]: Incoming request
2025-11-21 11:27:48 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:27:48 [info]: Request completed
2025-11-21 11:28:03 [info]: Incoming request
2025-11-21 11:28:03 [info]: Image upload received: image.png (1237094 bytes)
2025-11-21 11:28:03 [info]: Image validated successfully: image/png
2025-11-21 11:28:03 [info]: Created analysis record: 691fff6ba6aa4cecea5e79c6
2025-11-21 11:28:03 [info]: Starting image analysis: 691fff6ba6aa4cecea5e79c6
2025-11-21 11:28:03 [info]: Sending image to AI Engine: uploads\79ab1348-842a-4a50-ae91-0efd9a1c5856-image.png
2025-11-21 11:28:03 [info]: Request completed
2025-11-21 11:28:03 [error]: Error: AI analysis failed
    at mapAIEngineError (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:136:14)
    at analyzeImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:187:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async processImageAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisProcessor.ts:14:20)
2025-11-21 11:28:03 [info]: Updated analysis record: 691fff6ba6aa4cecea5e79c6
2025-11-21 11:28:03 [info]: Deleted file: uploads\79ab1348-842a-4a50-ae91-0efd9a1c5856-image.png
2025-11-21 11:34:37 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-21 11:34:37 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-21 11:34:37 [info]: AI Engine client configured: http://localhost:8000
2025-11-21 11:34:38 [info]: Upload directory ready: ./uploads
2025-11-21 11:34:38 [info]: ‚úÖ MongoDB connected successfully
2025-11-21 11:34:38 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-21 11:34:38 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-21 11:34:38 [info]: üöÄ Backend Gateway running on port 3000
2025-11-21 11:34:38 [info]: üìù Environment: development
2025-11-21 11:34:38 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-21 11:35:27 [info]: Incoming request
2025-11-21 11:35:27 [info]: Image upload received: Generated Image September 05, 2025 - 2_07PM.jpeg (148893 bytes)
2025-11-21 11:35:27 [info]: Image validated successfully: image/jpeg
2025-11-21 11:35:27 [info]: Created analysis record: 6920012790e04a294f6b49b3
2025-11-21 11:35:27 [info]: Starting image analysis: 6920012790e04a294f6b49b3
2025-11-21 11:35:27 [info]: Sending image to AI Engine: uploads\689f34ff-f240-4a55-a918-0f59a4b9b81d-Generated_Image_September_05__2025_-_2_07PM.jpeg
2025-11-21 11:35:27 [info]: Request completed
2025-11-21 11:35:27 [error]: Error: AI Engine is unavailable
    at mapAIEngineError (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:107:12)
    at analyzeImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:187:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async processImageAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisProcessor.ts:14:20)
2025-11-21 11:35:27 [info]: Updated analysis record: 6920012790e04a294f6b49b3
2025-11-21 11:35:27 [info]: Deleted file: uploads\689f34ff-f240-4a55-a918-0f59a4b9b81d-Generated_Image_September_05__2025_-_2_07PM.jpeg
2025-11-21 11:35:27 [info]: Incoming request
2025-11-21 11:35:27 [info]: Retrieving analysis: 6920012790e04a294f6b49b3
2025-11-21 11:35:27 [info]: Request completed
2025-11-21 11:35:27 [info]: Incoming request
2025-11-21 11:35:27 [info]: Retrieving analysis: 6920012790e04a294f6b49b3
2025-11-21 11:35:27 [info]: Request completed
2025-11-21 11:35:29 [info]: Incoming request
2025-11-21 11:35:29 [info]: Retrieving analysis: 6920012790e04a294f6b49b3
2025-11-21 11:35:29 [info]: Request completed
2025-11-21 11:35:37 [info]: Incoming request
2025-11-21 11:35:37 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:35:37 [info]: Request completed
2025-11-21 11:35:40 [info]: Incoming request
2025-11-21 11:35:40 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:35:40 [info]: Incoming request
2025-11-21 11:35:40 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:35:40 [info]: Request completed
2025-11-21 11:35:40 [info]: Request completed
2025-11-21 11:35:42 [info]: Incoming request
2025-11-21 11:35:42 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:35:42 [info]: Request completed
2025-11-21 11:40:13 [info]: Incoming request
2025-11-21 11:40:13 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:40:13 [info]: Incoming request
2025-11-21 11:40:13 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:40:13 [info]: Request completed
2025-11-21 11:40:13 [info]: Request completed
2025-11-21 11:40:15 [info]: Incoming request
2025-11-21 11:40:15 [info]: Retrieving analysis: 691ffe95a6aa4cecea5e79ba
2025-11-21 11:40:15 [info]: Request completed
2025-11-21 11:40:16 [info]: Incoming request
2025-11-21 11:40:16 [info]: Retrieving history: page=1, limit=12, userId=all
2025-11-21 11:40:16 [info]: Request completed
2025-11-21 11:40:17 [info]: Incoming request
2025-11-21 11:40:17 [info]: Retrieving analysis: 691fff6ba6aa4cecea5e79c6
2025-11-21 11:40:17 [info]: Incoming request
2025-11-21 11:40:17 [info]: Retrieving analysis: 691fff6ba6aa4cecea5e79c6
2025-11-21 11:40:17 [info]: Request completed
2025-11-21 11:40:17 [info]: Request completed
2025-11-21 11:40:19 [info]: Incoming request
2025-11-21 11:40:19 [info]: Retrieving analysis: 691fff6ba6aa4cecea5e79c6
2025-11-21 11:40:19 [info]: Request completed
2025-11-22 11:18:49 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-22 11:18:49 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-22 11:18:50 [info]: AI Engine client configured: http://localhost:8000
2025-11-22 11:18:50 [info]: Upload directory ready: ./uploads
2025-11-22 11:18:50 [info]: ‚úÖ MongoDB connected successfully
2025-11-22 11:18:50 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-22 11:18:50 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-22 11:18:50 [info]: üöÄ Backend Gateway running on port 3000
2025-11-22 11:18:50 [info]: üìù Environment: development
2025-11-22 11:18:50 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-22 11:27:10 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-22 11:27:10 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-22 11:27:11 [info]: AI Engine client configured: http://localhost:8000
2025-11-22 11:27:11 [info]: Upload directory ready: ./uploads
2025-11-22 11:27:11 [info]: ‚úÖ MongoDB connected successfully
2025-11-22 11:27:11 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-22 11:27:11 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-22 11:27:11 [info]: üöÄ Backend Gateway running on port 3000
2025-11-22 11:27:11 [info]: üìù Environment: development
2025-11-22 11:27:11 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-22 11:31:21 [info]: Incoming request
2025-11-22 11:31:21 [info]: Image upload received: Generated Image September 05, 2025 - 2_07PM.jpeg (148893 bytes)
2025-11-22 11:31:21 [info]: Image validated successfully: image/jpeg
2025-11-22 11:31:21 [info]: Created analysis record: 692151b102e06476e48fe12d
2025-11-22 11:31:21 [info]: Starting image analysis: 692151b102e06476e48fe12d
2025-11-22 11:31:21 [info]: Sending image to AI Engine: uploads\eefa6230-4431-485c-8c73-075f5b4b2cab-Generated_Image_September_05__2025_-_2_07PM.jpeg
2025-11-22 11:31:21 [info]: Request completed
2025-11-22 11:31:21 [info]: Incoming request
2025-11-22 11:31:21 [info]: Retrieving analysis: 692151b102e06476e48fe12d
2025-11-22 11:31:21 [error]: Error: AI analysis failed
    at mapAIEngineError (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:136:14)
    at analyzeImage (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\aiEngineClient.ts:187:13)
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async processImageAnalysis (C:\Users\ASUS\Downloads\truesight-ai-app\backend\src\services\analysisProcessor.ts:14:20)
2025-11-22 11:31:21 [info]: Request completed
2025-11-22 11:31:21 [info]: Updated analysis record: 692151b102e06476e48fe12d
2025-11-22 11:31:21 [info]: Incoming request
2025-11-22 11:31:21 [info]: Retrieving analysis: 692151b102e06476e48fe12d
2025-11-22 11:31:21 [info]: Deleted file: uploads\eefa6230-4431-485c-8c73-075f5b4b2cab-Generated_Image_September_05__2025_-_2_07PM.jpeg
2025-11-22 11:31:21 [info]: Request completed
2025-11-22 11:31:23 [info]: Incoming request
2025-11-22 11:31:23 [info]: Retrieving analysis: 692151b102e06476e48fe12d
2025-11-22 11:31:23 [info]: Request completed
2025-11-22 11:33:05 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-22 11:33:05 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-22 11:33:05 [info]: Initializing AI Engine client with API Key length: 0
2025-11-22 11:33:05 [warn]: AI_ENGINE_API_KEY is empty!
2025-11-22 11:33:05 [info]: AI Engine client configured: http://localhost:8000
2025-11-22 11:33:06 [info]: Upload directory ready: ./uploads
2025-11-22 11:33:06 [info]: ‚úÖ MongoDB connected successfully
2025-11-22 11:33:06 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-22 11:33:06 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-22 11:33:06 [info]: üöÄ Backend Gateway running on port 3000
2025-11-22 11:33:06 [info]: üìù Environment: development
2025-11-22 11:33:06 [info]: üîó CORS enabled for: http://localhost:5173
2025-11-22 11:35:15 [info]: Using memory store for rate limiting (Redis disabled for testing)
2025-11-22 11:35:15 [info]: Rate limiting configured: 10 requests per 60000ms
2025-11-22 11:35:15 [info]: Initializing AI Engine client with API Key length: 35
2025-11-22 11:35:15 [info]: AI Engine client configured: http://localhost:8000
2025-11-22 11:35:15 [info]: Upload directory ready: ./uploads
2025-11-22 11:35:15 [info]: ‚úÖ MongoDB connected successfully
2025-11-22 11:35:15 [info]: Skipping Redis connection - using memory-based rate limiting
2025-11-22 11:35:15 [info]: Starting file cleanup service (interval: 3600000ms)
2025-11-22 11:35:15 [info]: üöÄ Backend Gateway running on port 3000
2025-11-22 11:35:15 [info]: üìù Environment: development
2025-11-22 11:35:15 [info]: üîó CORS enabled for: http://localhost:5173
